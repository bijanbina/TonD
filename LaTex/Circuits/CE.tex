
\begin{figure}
\begin{circuitikz}
\tikzstyle{every node}=[font=\small]


%-------------------------------------------------------------------------%
%---------------------------------Parameters------------------------------%
%-------------------------------------------------------------------------%


\def \VccSpace {6}
\def \LevelSpace {2.25}
\pgfmathparse{\VccSpace-1}
\let \VccToSig \pgfmathresult

\ifx\MosOffset\undefined
\def \MosOffset {0}
\fi
\pgfmathparse{\VccSpace/4}
\let \SmallElement \pgfmathresult

\pgfmathparse{\VccSpace/2 + 0.5 + \MosOffset}
\let \VccToMos \pgfmathresult %pgfmathparse used to make expression unify
%\def \NormElement {\VccSpace/2 + 0.5}
\def \AnSize {0.5}
\pgfmathparse{\AnSize/2}
\let \AnSpace \pgfmathresult
\pgfmathparse{\AnSize - 0.1pt}
\let \VccLabelSpace \pgfmathresult

\coordinate (VCC2) at (3,\VccSpace);
\coordinate (VCC1) at  ($ (VCC2) + (\LevelSpace,0) $);
\coordinate (GATE_IN) at  ($ (VCC2) - (0,\VccToMos) $);
\coordinate (C_IN) at  ($ (GATE_IN) - (\SmallElement,0) $);
\coordinate (R_IN) at  ($ (C_IN) -  (\SmallElement,0) $);
\coordinate (GND_SIG) at  ($ (R_IN)  - (0,2) $);
\coordinate (GND_Load) at  ($ (R_IN)  - (0,2) $);
\coordinate (GND1) at  ($ (VCC1) + (0,-\VccSpace) $);
\coordinate (GND2) at  ($ (VCC2) + (0,-\VccSpace) $);


\newcommand{\neTondComment}[2]{\draw [Stealth-] (#1) ++ (+\AnSpace, 0) -- ++(0,+\AnSize) -- ++(+\AnSize,0)  node [anchor=west] {#2}};
\newcommand{\nwTondComment}[2]{\draw [Stealth-] (#1) ++ (-\AnSpace, 0) -- ++(0,+\AnSize) -- ++(-\AnSize,0)  node [anchor=east] {#2}};
\newcommand{\seTondComment}[2]{\draw [Stealth-] (#1) ++ (+\AnSpace, 0) -- ++(0,-\AnSize) -- ++(+\AnSize,0)  node [anchor=west] {#2}};
\newcommand{\swTondComment}[2]{\draw [Stealth-] (#1) ++ (-\AnSpace, 0) -- ++(0,-\AnSize) -- ++(-\AnSize,0)  node [anchor=east] {#2}};

\def \TondVcc{node [anchor=south] {$V_{CC}$} ++(-\VccLabelSpace,0) --  ++(2*\VccLabelSpace,0)}%VCC


%-------------------------------------------------------------------------%
%-----------------------------------Circuit-------------------------------%
%-------------------------------------------------------------------------%


\draw (VCC2) \TondVcc;%VCC
\draw (VCC1) \TondVcc;%VCC
\draw (VCC1) ++ (0,-\VccToMos) node[npn](mos) {};

\node  [ground] at (GND1){};%GND
\node  [ground] at (GND2){};%GND
\draw (mos.emitter) to[R=$R_E$] (GND1) {};%GND
\draw (VCC1) to [R=\small{$R_C$}] (mos.collector);%RD
\draw (VCC2) to [R=$R_1$] (GATE_IN) node(RG1) {};%RG1
\draw (RG1) to [R=$R_2$] (GND2);%RG2
\draw (mos.base) -- (GATE_IN); %Short Circuit

%-------------Annotate---------------
\nwTondComment{mos.collector}{$r_o$};
\swTondComment{mos.emitter}{$r_b$};

%----------------Signal--------------
\draw (GND_SIG) node [ground] {};%GND
\draw (R_IN) to [R=$R_{sig}$] (C_IN) to[C=$C$] (GATE_IN);%Rsig
\draw (GND_SIG) to [sV=$V_{in}$,rotation=10] (R_IN);%Signal

%-------------Load & Out-------------
\coordinate (V_out)  at  ($ (mos.collector)  + (\LevelSpace,0) $);
\coordinate (R_Load)  at  ($ (mos.collector)  + (\LevelSpace,0) - (1,0) $);
\coordinate (GND_Load) at  ($ (R_Load) - (0,2) $);

\draw (R_Load) to [R=$R_{l}$] (GND_Load);%Rl
\node  [ground] at (GND_Load){};%GND
\draw (mos.collector) to [C=$C$,*-] (R_Load) to[short] (V_out) node [anchor=north west] {$V_o$};%Rl
\node [shape=circle,anchor=west,draw,minimum size=0.1cm,inner sep=0pt] at (V_out) {};%Rl

\end{circuitikz}
\caption{Common Emitter}
\end{figure}
